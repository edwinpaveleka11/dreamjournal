<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Mimpi</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>âœï¸ Edit Mimpi</h1>
            <a href="{{ url_for('index') }}" class="back-link">â† Kembali ke Home</a>
        </header>

        <div class="form-container">
            <form method="POST" action="{{ url_for('edit_dream', id=dream.id) }}">
                <div class="form-group">
                    <label for="title">Judul Mimpi *</label>
                    <input type="text" id="title" name="title" value="{{ dream.title }}" required placeholder="Contoh: Terbang di Atas Kota">
                </div>

                <div class="form-group">
                    <label for="description">Deskripsi Mimpi *</label>
                    <textarea id="description" name="description" rows="6" required placeholder="Ceritakan mimpi Anda secara detail...">{{ dream.description }}</textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="dream_date">Tanggal Mimpi *</label>
                        <input type="date" id="dream_date" name="dream_date" value="{{ dream.dream_date }}" required>
                    </div>

                    <div class="form-group">
                        <label for="mood">Mood Setelah Bangun *</label>
                        <select id="mood" name="mood" required>
                            <option value="">Pilih Mood</option>
                            <option value="Happy" {% if dream.mood == 'Happy' %}selected{% endif %}>ğŸ˜Š Happy</option>
                            <option value="Sad" {% if dream.mood == 'Sad' %}selected{% endif %}>ğŸ˜¢ Sad</option>
                            <option value="Scared" {% if dream.mood == 'Scared' %}selected{% endif %}>ğŸ˜± Scared</option>
                            <option value="Confused" {% if dream.mood == 'Confused' %}selected{% endif %}>ğŸ˜• Confused</option>
                            <option value="Peaceful" {% if dream.mood == 'Peaceful' %}selected{% endif %}>ğŸ˜Œ Peaceful</option>
                            <option value="Nostalgic" {% if dream.mood == 'Nostalgic' %}selected{% endif %}>ğŸ¥² Nostalgic</option>
                            <option value="Excited" {% if dream.mood == 'Excited' %}selected{% endif %}>ğŸ¤© Excited</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="dream_type">Tipe Mimpi *</label>
                    <select id="dream_type" name="dream_type" required>
                        <option value="">Pilih Tipe</option>
                        <option value="Normal Dream" {% if dream.dream_type == 'Normal Dream' %}selected{% endif %}>Normal Dream</option>
                        <option value="Lucid Dream" {% if dream.dream_type == 'Lucid Dream' %}selected{% endif %}>Lucid Dream (Sadar saat bermimpi)</option>
                        <option value="Nightmare" {% if dream.dream_type == 'Nightmare' %}selected{% endif %}>Nightmare (Mimpi Buruk)</option>
                        <option value="Recurring Dream" {% if dream.dream_type == 'Recurring Dream' %}selected{% endif %}>Recurring Dream (Mimpi Berulang)</option>
                        <option value="Prophetic Dream" {% if dream.dream_type == 'Prophetic Dream' %}selected{% endif %}>Prophetic Dream (Mimpi yang seperti nyata)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tags">Tags (pisahkan dengan koma)</label>
                    <input type="text" id="tags" name="tags" value="{{ dream.tags if dream.tags else '' }}" placeholder="Contoh: terbang, kota, damai">
                    <small>Tips: Gunakan tags untuk memudahkan pencarian nanti</small>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">ğŸ’¾ Update Mimpi</button>
                    <a href="{{ url_for('index') }}" class="btn btn-secondary">Batal</a>
                </div>
            </form>
        </div>
    </div>
</body>
</html>